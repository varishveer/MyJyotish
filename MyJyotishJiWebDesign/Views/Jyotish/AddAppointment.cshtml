@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "JyotishLayout";
    var BaseUrl = "https://api.myjyotishg.in/";
}

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    .main-container {
        overflow: hidden;
        padding: 15px;
        border-radius: 0px 10px 10px 0px;
        box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.3);
    }

    .left-part img {
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        border-radius: 10px 0px 0px 10px;
    }

    .right-part form input, .right-part form button {
        font-size: 13px;
    }

    .right-part button {
        background-color: #138496;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        .right-part button:hover {
            background-color: #138496;
            color: white;
        }
</style>

<div class="container d-flex justify-content-center align-items-center min-vh-90 mt-4">
    <div class="main-container row w-75 rounded-3">
        <!-- Left part for image -->
        <div class="col-md-4 left-part d-flex justify-content-center align-items-center">
            <img src="~/gif/3885914.jpg" alt="Sign Up Image" class="responsive-image" />
        </div>

        <!-- Right part for the signup form -->
        <div class="col-lg-8 col-md-12 p-2 bg-white right-part ">
            <h5 class="mb-3 text-center">Schedule an Appointment</h5>
            <form id="appointmentForm">
                

               
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="date" class="form-label">Date and Time</label>
                        <input type="datetime-local" class="form-control" id="date">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-12">
                        <label for="problems" class="form-label">Problems</label>
                        <input type="text" class="form-control" id="problems" placeholder="Describe your problems">
                    </div>
                   
                </div>
           
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <button type="submit" class="btn btn-info px-3 ">Submit</button>
                    </div>
                </div>


            </form>
        </div>
    </div>
</div>


@* 
<div class="container-fluid mt-4">


<div class="container h-90">
    <div class="row">
        <!-- Left Part (Image) -->
        <div class="col-md-3 left-part d-flex justify-content-center align-items-center">

                <img src="~/gif/3885914.jpg" alt="Sign Up Image" class="responsive-image" />
        </div>
        
        <!-- Right Part (Form) -->
        <div class="col-md-9 right-part">
            <h5 class="mb-3 text-center">Schedule an Appointment</h5>
            <form>
                <div class="form-row">
                    <div class="form-group col-md-12">
                        <label for="mode" class="form-label">Mode:</label>
                        <select id="mode" name="mode" class="form-select" required>
                            <option value="Online">Online</option>
                            <option value="Offline">Offline</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="username" class="form-label">Name</label>
                        <input type="text" class="form-control" id="username" placeholder="Enter your name">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="mobile" class="form-label">Mobile No.</label>
                        <input type="number" class="form-control" id="mobile" placeholder="Enter your mobile number">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="date" class="form-label">Date and Time</label>
                        <input type="datetime-local" class="form-control" id="date">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="problems" class="form-label">Problems</label>
                        <input type="text" class="form-control" id="problems" placeholder="Describe your problems">
                    </div>
                    <div class="form-group col-md-6 mb-3">
                        <label for="amount" class="form-label">Amount Charged</label>
                        <input type="number" class="form-control" id="amount" placeholder="Enter amount charged">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <button type="submit" class="btn btn-info px-3 ">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>



</div>
 *@

@* <div class="container mt-5">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Schedule an Appointment</h5>
            <form id="appointmentForm">
                <div class="form-group">
                    <label for="mode">Mode</label>
                    <select class="form-control" id="mode">
                        <option>Online</option>
                        <option>Offline</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="username">Name</label>
                    <input type="text" class="form-control" id="username" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="mobile">Mobile No.</label>
                    <input type="number" class="form-control" id="mobile" placeholder="Enter your mobile number">
                </div>
                <div class="form-group">
                    <label for="date">Date and Time</label>
                    <input type="datetime-local" class="form-control" id="date">
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="problems">Problems</label>
                    <input type="text" class="form-control" id="problems" placeholder="Describe your problems">
                </div>
                <div class="form-group">
                    <label for="amount">Amount Charged</label>
                    <input type="number" class="form-control" id="amount" placeholder="Enter amount charged">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>
</div>
 *@

<script>
    $(document).ready(function () {
        $('#appointmentForm').on('submit', function (event) {
            debugger;
            event.preventDefault(); // Prevent default form submission
          

            // Capture form data
            var formData = {
              
               
                dateTime: $('#date').val(),
                email: $('#email').val(),
                jyotishId: localStorage.getItem('Id'),
                problem: $('#problems').val(),
              
            };
          
            // Send data using AJAX
            $.ajax({
                url: "@BaseUrl"+ 'Api/Jyotish/AddAppointment', // Replace with your API endpoint
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem("Token2")}`, // Example of an authorization header
                    'Content-Type': 'application/json', // Example of a content type header

                },
                data: JSON.stringify(formData),
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
               
                success: function (response) {
                    if (response.status === 200) { alert('Appointment booked successfully!'); }
                    else if (response.status === 400) {

                        alert('Invalid Data');
                    }
                    else {
                        alert(`${response.message}`);
                    }

                },
                error: function (xhr, status, error) {
                    console.error('Error submitting form:', error, status, xhr);
                    alert('An error occurred while submitting the form. Please try again.');
                }
            });
        });
    });
</script>
