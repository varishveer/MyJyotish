@{
    Layout = "JyotishLayout";
   
}


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f7fa;
        color: #333;
    }

    .profile-container {
        max-width: 1170px;
        margin: 0 auto;
        padding: 20px;
        background: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .profile-sidebar {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 20px;
    }

        .profile-sidebar .profile-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 5px solid #fff;
            margin-bottom: 20px;
            object-fit: cover;
        }

        .profile-sidebar a {
            color: #007bff;
            text-decoration: none;
            margin: 10px 0;
            display: block;
            font-size: 16px;
            font-weight: 500;
            transition: color 0.3s;
        }

            .profile-sidebar a:hover {
                text-decoration: underline;
                color: #0056b3;
            }

    .profile-main {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
    }

    .section-title {
        font-size: 20px;
        margin-bottom: 15px;
        font-weight: 600;
        color: #007bff;
    }

    .row {
        margin-bottom: 15px;
    }

    .detail-label {
        font-weight: 500;
        color: #6c757d;
        font-size: 14px;
    }

    .detail-value {
        font-weight: 600;
        color: #495057;
        font-size: 14px;
    }

    .action-btns a {
        display: inline-block;
        margin-right: 10px;
        font-size: 14px;
        color: #007bff;
        transition: color 0.3s;
    }

        .action-btns a:hover {
            text-decoration: underline;
            color: #0056b3;
        }

    .left-part img {
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        object-fit: cover;
    }

    .left-part {
        text-align: center;
        padding: 20px;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }

        .left-part button {
            margin-top: 10px;
        }

        .left-part h6 {
            margin-top: 20px;
            font-weight: 600;
        }

    .form-check-label {
        font-size: 13px;
    }

    .form-check-input {
        margin-top: 3px;
    }

    .mb-3 button {
        margin-top: 10px;
        width: 100%;
        font-size: 14px;
    }

    /* Button styles */
    .btn-outline-danger {
        border-color: #dc3545;
        color: #dc3545;
        transition: background-color 0.3s, color 0.3s;
    }

        .btn-outline-danger:hover {
            background-color: #dc3545;
            color: white;
        }

    .btn-outline-primary {
        border-color: #007bff;
        color: #007bff;
        transition: background-color 0.3s, color 0.3s;
    }

        .btn-outline-primary:hover {
            background-color: #007bff;
            color: white;
        }

    .btn-outline-info {
        border-color: #17a2b8;
        color: #17a2b8;
        transition: background-color 0.3s, color 0.3s;
    }

        .btn-outline-info:hover {
            background-color: #17a2b8;
            color: white;
        }

    .btn-outline-secondary {
        border-color: #6c757d;
        color: #6c757d;
        transition: background-color 0.3s, color 0.3s;
    }

        .btn-outline-secondary:hover {
            background-color: #6c757d;
            color: white;
        }

    .laguage {
        font-size: 15px;
    }
</style>


<div class="container profile-container mt-4">
    <div class="row">
        <!-- Left Sidebar -->
        <div class="col-md-4 left-part">
            <div class="mb-3">
                <img id="profileImage" src="~/Img/UserPlaceholder.png" alt="Profile Image" class="profile-photo" width="250" height="250">
            </div>
            <h6 id="JyotishName"></h6>
            <div class="my-3 d-flex justify-content-center flex-row">
                <a href="/Jyotish/UpdateProfile">
                    <button class="btn btn-outline-info mx-1">
                    Edit Profile
                    </button>
                </a>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="detail-value">About</div>
                    <div class="detail-label" id="about"></div>
                </div>
            </div>
        </div>

        <!-- Right Profile Details -->
        <div class="col-md-8">
            <div class="profile-main">
                <div class="section-title">Personal Details</div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Full Name</div>
                        <div class="detail-value" id="name"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Email</div>
                        <div class="detail-value" id="email"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Phone</div>
                        <div class="detail-value" id="mobile"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Gender</div>
                        <div class="detail-value" id="gender"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Languages</div>
                        <div class="detail-value" id="language"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Appointment Time from</div>
                        <div class="detail-value" id="timeFrom"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Appointment Time To</div>
                        <div class="detail-value" id="timeTo"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Appointment Charges</div>
                        <div class="detail-value" id="appointmentCharges"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Professional Experience</div>
                        <div class="detail-value" id="experience"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Pooja</div>
                        <div class="detail-value" id="pooja"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Chat Price</div>
                        <div class="detail-value" id="chatCharges"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Call Price</div>
                        <div class="detail-value" id="callCharges"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Address</div>
                        <div class="detail-value" id="address"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Date Of Birth</div>
                        <div class="detail-value" id="dateOfBirth"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">City</div>
                        <div class="detail-value" id="city"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">State</div>
                        <div class="detail-value" id="state"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Country</div>
                        <div class="detail-value" id="country"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Expertise</div>
                        <div class="detail-value" id="expertise"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Specialization</div>
                        <div class="detail-value" id="specialization"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Awards and Achievements</div>
                        <div class="detail-value" id="awardsAndAchievement"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Rating</div>
                        <div class="detail-value" id="rating"></div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-label">Experience</div>
                        <div class="detail-value" id="experience"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-label">Success Rate</div>
                        <div class="detail-value" id="successRate"></div>
                    </div>
                </div>

               
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        var Id = localStorage.getItem('Id'); // Assuming Id is stored in localStorage

        $.ajax({
            url: BaseUrl + `api/Jyotish/GetProfile?Id=${encodeURIComponent(Id)}`,
            type: 'GET',
            headers: {
                'Authorization': `Bearer ${localStorage.getItem("Token2")}`,
                'Content-Type': 'application/json',
            },
            success: function (response) {
                if (response.status === 200) {
                    var profile = response.data;
                    debugger;
                    // Fill in the data fields
                    $('#profileImage').attr('src', profile.profileImageUrl ?  BaseUrl+profile.profileImageUrl : 'default-image.jpg');
                    $('#JyotishName').text(profile.name);
                    $('#name').text(profile.name);
                    $('#email').text(profile.email);
                    $('#mobile').text(profile.mobile);
                    $('#role').text(profile.role);
                    $('#gender').text(profile.gender);
                    $('#expertise').text(profile.expertise);
                    $('#city').text(profile.city);
                    $('#state').text(profile.state);
                    $('#country').text(profile.country);
                    $('#language').text(profile.language);
                    $('#experience').text(profile.experience);
                    $('#specialization').text(profile.specialization);
                    $('#about').text(profile.about);
                    $('#awardsAndAchievement').text(profile.awordsAndAchievement || 'N/A');
                    $('#callCharges').text(profile.callCharges);
                    $('#chatCharges').text(profile.chatCharges);
                    $('#dateOfBirth').text(profile.dateOfBirth);
                    $('#pooja').text(profile.pooja);
                    $('#appointmentCharges').text(profile.appointmentCharges);
                    $('#address').text(profile.address);
                    $('#timeTo').text(profile.timeTo);
                    $('#rating').text(profile.rating);
                    $('#successRate').text(profile.successRate);
                    $('#timeFrom').text(profile.timeFrom);

                    // Handle timeFrom and timeTo if necessary
                } else {
                   
                    Swal.fire({
                        title: 'Error: Could not load profile.',

                        icon: "warning",

                        showConfirmButton: true, 
                  
                    });
                }
            },
            error: function (xhr, status, error) {
                console.error('Error:', error);
               
                Swal.fire({
                    title: 'There was an error fetching the profile data.',

                    icon: "warning",

                    showConfirmButton: true, 

                });
            }
        });
    });

</script>