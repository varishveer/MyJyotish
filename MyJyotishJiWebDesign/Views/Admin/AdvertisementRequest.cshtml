@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="container mt-5">
    <h2 class="text-center">Advertisement Details</h2>

    <table class="table table-bordered table-striped" id="advertisementTable">
        <thead>
            <tr>
                <th>Ad ID</th>
                <th>Area ID</th>
                <th>Advertisement Area</th>
                <th>Start Date</th>
                <th>Created Date</th>
                <th>Banner URL</th>
                <th>Plan Type</th>
                <th>Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Duration</th>
                <th>Active Status</th>
                <th>Status</th>
                <th>Jyotish ID</th>
                <th>Area Name</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here via AJAX -->
        </tbody>
    </table>
</div>

<script>
    $(document).ready(function() {
      // AJAX call to fetch the data from the server
      $.ajax({
        url: '/your-api-endpoint', // replace with your API endpoint
        type: 'GET',
        success: function(response) {
          // Assuming the response is an array of advertisement objects
          const data = response; // Example response

          // Loop through the data and add rows to the table
          const tableBody = $('#advertisementTable tbody');
          tableBody.empty(); // Clear existing data

          data.forEach(item => {
            const row = `<tr>
              <td>${item.adId}</td>
              <td>${item.areaId}</td>
              <td>${item.advertisementArea}</td>
              <td>${item.startDate}</td>
              <td>${item.createdDate}</td>
              <td><img src="${item.bannerUrl}" alt="Banner" width="100"></td>
              <td>${item.planType}</td>
              <td>${item.name}</td>
              <td>${item.email}</td>
              <td>${item.mobile}</td>
              <td>${item.duration}</td>
              <td><span class="badge badge-${item.activeStatus ? 'success' : 'danger'}">${item.activeStatus ? 'Active' : 'Inactive'}</span></td>
              <td><span class="badge badge-${item.status ? 'success' : 'danger'}">${item.status ? 'Active' : 'Inactive'}</span></td>
              <td>${item.jyotishId}</td>
              <td>${item.areaName}</td>
            </tr>`;

            tableBody.append(row); // Append the row to the table body
          });
        },
        error: function(error) {
          console.error("Error fetching data:", error);
          alert("There was an error fetching the data.");
        }
      });
    });
</script>